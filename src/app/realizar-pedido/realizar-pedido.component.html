
<div class="container" style="margin-left: 350px; margin-top: 100px;" *ngIf="usuario">
<form #f="ngForm" (ngSubmit)="enviarFormulario()">
<h1>Detalles del envío</h1>
<ul>
    <li>Correo Electronico : {{usuario.correo_electronico}}</li>
    <li>Dirección : {{usuario.direccion}}</li>
    <li>Telefono : {{usuario.telefono}}</li>
</ul>

<p>Tipo de tarjeta: </p> 
<input type="radio" name="tipo_tarjeta" value="visa" id="tarjeta_visa" ngModel><label for="tarjeta_visa">Visa</label>
<input type="radio" name="tipo_tarjeta" value="mastercard" id="tarjeta_master" ngModel><label for="tarjeta_master">Mastercard</label>
<input type="radio" name="tipo_tarjeta" value="american" id="tarjeta_american" ngModel ><label for="tarjeta_american">American Express</label>

<input type="cc-number" name="numero_tarjeta" placeholder="Introduzca el numero de la tarjeta de Crédito" ngModel> 

<input type="cvv" name="cvv" placeholder="CVV" ngModel>

<input type="number" name="expiracion_tarjeta" placeholder="Fecha de expiración" ngModel>

<h1>Detalles de pedido: </h1>
<div *ngIf="lineasPedido.length>0">
    <ul >
        <li *ngFor="let linea of lineasPedido">{{linea.nombre}} - {{linea.precio}} euros - {{linea.cantidad}} unidades</li>
    </ul>
    Precio de envío : {{precioEnvio}} <br>
    Precio Total : {{precioTotal()}} euros
</div>

<div class="spinner-border" role="status" *ngIf= "cargando">
    <span class="sr-only">Loading...</span>
</div>



<div *ngIf="errores.length>0">Errores:
    <ul>
        <li *ngFor="let error of errores"> {{error}}</li>
    </ul>
</div>
<button type="submit">Comprar</button>

</form>
<!-- Modal -->
<!-- Si dialogoVisible es true, display: block, si es false, display: none -->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display' : dialogoVisible ? 'block' : 'none'}" style="background-color: rgba(0,0,0,0.6);">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Guardar tarjeta</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="ocultarDialogo()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>¿Deseas guardar tu tarjeta para futuras compras?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="guardarTarjeta()">Guardar</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="realizarPedido()">No guardar</button>
      </div>
    </div>
  </div>
</div>
</div>

